extends layouts/main
include mixins/box2

block content
    h1 Node.js Applications
    .row
        .col-md-12
            if (message.error)
                .alert.alert-danger
                    p= message.error
            if (message.info)
                .alert.alert-success
                    p= message.info
    .row
        .col-md-12
            if (repositories)
                each repo in repositories
                    .col-sm-6.col-lg-3
                        +box2(`${repo.name}`, repo.id, [`Status: ${/*app.status*/'Running'}`] , '#')

block scripts
    script.
      $(function() {
        $('.activation').on('change', function() {
          var containerID = $(this).attr('id');
          if ($(this).is(':checked')) {
            console.log('Start container:', containerID);

            // Ajax to start container
            $.ajax({
              url: '/api/v1/container/' + containerID,
              method: 'POST',
              success: function(response){

              },
              error: function(err){

              }
            })
          }
          else {
            console.log('Stop container:', containerID)

            // Ajax to stop container
            $.ajax({
              url: '/api/v1/container/' + containerID,
              method: 'DELETE',
              success: function(response) {

              },
              error: function(err) {

              }
            })
          }
        })
      });




